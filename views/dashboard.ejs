<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coordinator Dashboard</title>
    <link rel="stylesheet" href="/dashstyle.css">
    <link rel="icon" type="image/png" href="/ssn-logo.png">

</head>
<body>
    
    <div class="container">
        <div class="header-container">
            <header>Internship Records</header>
            
            <a href="/generate-report" class="dash-btn">Generate Report</a>
            <a href="/send-reminders" class="dash-btn">Send Reminders</a>
            <a href="/coordinator/doubts" class="dash-btn">View Student Doubts</a>
            <a href="/logout" class="logout-btn">Logout</a>
        </div>

        <!-- Search & Filter Section -->
        <div class="filter-container">
            <input type="text" id="search" placeholder="Search by Name, Company..." onkeyup="applyFilters()">
            <select id="filterCompany" onchange="applyFilters()">
                <option value="">Company</option>
                <option value="Google">Google</option>
                <option value="Amazon">Amazon</option>
            </select>
            <select id="filterSection" onchange="applyFilters()">
                <option value="">Section</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
            </select>
            <select id="filterInternshipType" onchange="applyFilters()">
                <option value="">Internship Type</option>
                <option value="Research">Research</option>
                <option value="Industry">Industry</option>
            </select>
            <select id="filterStipend" onchange="applyFilters()">
                <option value="">Stipend</option>
                <option value="Paid">Paid</option>
                <option value="Unpaid">Unpaid</option>
            </select>
            <select id="filterLocation" onchange="applyFilters()">
                <option value="">Location</option>
                <option value="India">India</option>
                <option value="Abroad">Abroad</option>
            </select>
            <select id="filterPlacement" onchange="applyFilters()">
                <option value="">Placement Source</option>
                <option value="Through College">Through College</option>
                <option value="Through Outside">Through Outside</option>
            </select>
            <button onclick="resetFilters()">Reset Filters</button>
        </div>

        <!-- Table Display -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Reg No</th>
                        <th>Mobile</th>
                        <th>Section</th>
                        <th>Company</th>
                        <th>Internship Type</th>
                        <th>Stipend</th>
                        <th>Location</th>
                        <th>Placement Source</th>
                        <th>Permission Letter</th>
                        <th>Completion Cert.</th>
                        <th>Internship Report</th>
                        <th>Student Feedback</th>
                        <th>Employer Feedback</th>
                    </tr>
                </thead>
                <tbody id="dataTable">
                    <% data.slice(1).forEach((row) => { %>
                        <tr data-name="<%= row[2] %>" 
                            data-company="<%= row[10] %>" 
                            data-section="<%= row[4] %>" 
                            data-internship="<%= row[13] %>" 
                            data-stipend="<%= row[12] > 0 ? 'Paid' : 'Unpaid' %>"
                            data-location="<%= row[14] %>"
                            data-placement="<%= row[11] %>">
                            <td><%= row[2] %></td>
                            <td><%= row[1] %></td>
                            <td><%= row[3] %></td>
                            <td><%= row[4] %></td>
                            <td><%= row[10] %></td>
                            <td><%= row[13] %></td>
                            <td>₹<%= row[12] %></td>
                            <td><%= row[14] %></td>
                            <td><%= row[11] %></td>
                            
                            <!-- Documents with Links -->
                            <td>
                                <% if (row[15] === 'Yes') { %>
                                    <a href="<%= row[20] %>" target="_blank">✅</a>
                                <% } else { %>
                                    ❌
                                <% } %>
                            </td>

                            <td>
                                <% if (row[16] === 'Yes') { %>
                                    <a href="<%= row[21] %>" target="_blank">✅</a>
                                <% } else { %>
                                    ❌
                                <% } %>
                            </td>

                            <td>
                                <% if (row[17] === 'Yes') { %>
                                    <a href="<%= row[22] %>" target="_blank">✅</a>
                                <% } else { %>
                                    ❌
                                <% } %>
                            </td>

                            <td>
                                <% if (row[18] === 'Yes') { %>
                                    <a href="<%= row[23] %>" target="_blank">✅</a>
                                <% } else { %>
                                    ❌
                                <% } %>
                            </td>

                            <td>
                                <% if (row[19] === 'Yes') { %>
                                    <a href="<%= row[24] %>" target="_blank">✅</a>
                                <% } else { %>
                                    ❌
                                <% } %>
                            </td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>
    </div>

    <script src="/dashboard.js"></script>
</body>
</html>
